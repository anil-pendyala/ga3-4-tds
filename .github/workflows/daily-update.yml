name: Daily Auto Commit

# The 'on' section tells the robot WHEN to run
on:
  schedule:
    # This cron syntax means: run at 14:30 (2:30 PM UTC) every single day.
    # The format is: minute hour day-of-month month day-of-week
    - cron: '30 14 * * *'
  
  # 'workflow_dispatch' gives us a manual "Run" button to test it immediately
  workflow_dispatch:

# Give the robot permission to push changes back to your repository
permissions:
  contents: write

# The 'jobs' section tells the robot WHAT to do
jobs:
  auto-commit-job:
    runs-on: ubuntu-latest # The type of virtual computer the robot will use
    
    steps:
      # Step 1: The robot downloads a copy of your code
      - name: Checkout repository
        uses: actions/checkout@v4

      # Step 2: The robot makes a change and saves it
      - name: Make a commit for 23f3003847@ds.study.iitm.ac.in
        run: |
          # 1. Tell Git who is making the change
          git config --global user.name "DevSync Automation"
          git config --global user.email "23f3003847@ds.study.iitm.ac.in"
          
          # 2. Make a visible change: Write the current date/time into a text file
          echo "Automated commit ran on $(date)" >> activity_log.txt
          
          # 3. Tell Git to track this new change
          git add activity_log.txt
          
          # 4. Commit (save) the change with a message
          git commit -m "chore: daily automated activity update"
          
          # 5. Push (upload) the change back to GitHub
          git push
